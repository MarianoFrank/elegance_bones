{"version":3,"file":"porcentajesProductos.min.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;ACNAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACxD,MAAMC,kBAAkB,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,aAAa,CAAC;EAEnE,MAAMC,eAAe,GAAIC,SAAS,IAAK;IACrC;IACA,IAAIC,WAAW,GAAGD,SAAS,CACxBE,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CACtBA,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC;IAE9BC,OAAO,CAACC,GAAG,CAACH,WAAW,CAAC;;IAExB;IACA,IAAII,mBAAmB,GAAGJ,WAAW,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;;IAEvD;IACA,OAAOI,UAAU,CAACD,mBAAmB,CAAC;EACxC,CAAC;EAEDR,kBAAkB,CAACU,OAAO,CAAEC,iBAAiB,IAAK;IAChD,MAAMC,QAAQ,GAAGD,iBAAiB,CAACV,gBAAgB,CAAC,YAAY,CAAC;IAEjEW,QAAQ,CAACF,OAAO,CAAEG,OAAO,IAAK;MAC5B,MAAMC,aAAa,GAAGD,OAAO,CAACE,aAAa,CAAC,SAAS,CAAC;MAEtD,IAAI,CAACD,aAAa,EAAE;QAClB,MAAME,YAAY,GAAGH,OAAO,CAACE,aAAa,CAAC,QAAQ,CAAC;QAEpD,MAAME,UAAU,GAAGD,YAAY,CAACD,aAAa,CAAC,KAAK,CAAC;QACpD,MAAMG,UAAU,GAAGF,YAAY,CAACD,aAAa,CAAC,KAAK,CAAC;QAEpD,MAAMI,YAAY,GAAGF,UAAU,GAC3Bf,eAAe,CAACe,UAAU,CAACG,WAAW,CAAC,GACvC,IAAI;QACR,MAAMC,YAAY,GAAGH,UAAU,GAC3BhB,eAAe,CAACgB,UAAU,CAACE,WAAW,CAAC,GACvC,IAAI;QAER,IAAID,YAAY,IAAIE,YAAY,EAAE;UAChC,MAAMC,UAAU,GAAIH,YAAY,GAAGE,YAAY,GAAI,GAAG;UACtDf,OAAO,CAACC,GAAG,CAACe,UAAU,CAAC;UACvB,MAAMC,gBAAgB,GAAGzB,QAAQ,CAAC0B,aAAa,CAAC,MAAM,CAAC;;UAEvD;UACAD,gBAAgB,CAACE,SAAS,GAAG,QAAQ;;UAErC;UACAF,gBAAgB,CAACH,WAAW,GAAI,KAAIE,UAAW,QAAO;;UAEtD;UACA,MAAMI,cAAc,GAAGb,OAAO,CAACE,aAAa,CAAC,GAAG,CAAC;UACjD,MAAMY,cAAc,GAAGd,OAAO,CAACE,aAAa,CAC1C,kCACF,CAAC;UAEDW,cAAc,CAACE,YAAY,CAACL,gBAAgB,EAAEI,cAAc,CAAC;QAC/D;MACF;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC,C","sources":["webpack://dev/webpack/bootstrap","webpack://dev/webpack/runtime/make namespace object","webpack://dev/./src/js/porcentajesProductos.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","document.addEventListener(\"DOMContentLoaded\", function () {\r\n  const productsContainers = document.querySelectorAll(\"ul.products\");\r\n\r\n  const obtenerFlotante = (numString) => {\r\n    // Eliminar caracteres no numéricos y todos los puntos excepto el último\r\n    var soloNumeros = numString\r\n      .replace(/[^\\d,]/g, \"\")\r\n      .replace(/\\.(?=\\d*\\.)/g, \"\");\r\n\r\n    console.log(soloNumeros);\r\n\r\n    // Reemplazar la coma por el punto para obtener un número flotante válido\r\n    var soloNumerosConPunto = soloNumeros.replace(\",\", \".\");\r\n\r\n    // Parsear la cadena como un número flotante\r\n    return parseFloat(soloNumerosConPunto);\r\n  };\r\n\r\n  productsContainers.forEach((productsContainer) => {\r\n    const products = productsContainer.querySelectorAll(\"li.product\");\r\n\r\n    products.forEach((product) => {\r\n      const onSaleMensaje = product.querySelector(\".onsale\");\r\n\r\n      if (!onSaleMensaje) {\r\n        const priceElement = product.querySelector(\".price\");\r\n\r\n        const insElement = priceElement.querySelector(\"ins\");\r\n        const delElement = priceElement.querySelector(\"del\");\r\n\r\n        const precioOferta = insElement\r\n          ? obtenerFlotante(insElement.textContent)\r\n          : null;\r\n        const precioNormal = delElement\r\n          ? obtenerFlotante(delElement.textContent)\r\n          : null;\r\n\r\n        if (precioOferta && precioNormal) {\r\n          const porcentaje = (precioOferta / precioNormal) * 100;\r\n          console.log(porcentaje);\r\n          const newOnSaleElement = document.createElement(\"span\");\r\n\r\n          // Agregar la clase \"onsale\" al nuevo elemento\r\n          newOnSaleElement.className = \"onsale\";\r\n\r\n          // Establecer el contenido del elemento\r\n          newOnSaleElement.textContent = `¡ ${porcentaje} OFF !`;\r\n\r\n          // Agregar el elemento al cuerpo del documento (puedes cambiar esto según donde quieras agregarlo)\r\n          const productoEnlace = product.querySelector(\"a\");\r\n          const tituloProducto = product.querySelector(\r\n            \".woocommerce-loop-product__title\"\r\n          );\r\n\r\n          productoEnlace.insertBefore(newOnSaleElement, tituloProducto);\r\n        }\r\n      }\r\n    });\r\n  });\r\n});\r\n"],"names":["document","addEventListener","productsContainers","querySelectorAll","obtenerFlotante","numString","soloNumeros","replace","console","log","soloNumerosConPunto","parseFloat","forEach","productsContainer","products","product","onSaleMensaje","querySelector","priceElement","insElement","delElement","precioOferta","textContent","precioNormal","porcentaje","newOnSaleElement","createElement","className","productoEnlace","tituloProducto","insertBefore"],"sourceRoot":""}